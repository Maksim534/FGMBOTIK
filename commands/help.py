from aiogram import types, Dispatcher
from aiogram.filters import Command

from assets.antispam import antispam, admin_only, antispam_earning, new_earning_msg
from filters.custom import TextIn, StartsWith
from user import BFGuser
from assets import keyboards as kb
import config as cfg


adm_us = cfg.admin_username.replace('@', '')
adm = f'<a href="t.me/{adm_us}">{cfg.admin_username}</a>'

help_msg = {}


CONFIG = {
    "help_cmd": '''{},Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:
   1ï¸âƒ£ ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ
   2ï¸âƒ£ Ğ˜Ğ³Ñ€Ñ‹
   3ï¸âƒ£ Ğ Ğ°Ğ·Ğ²Ğ»ĞµĞºĞ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ
   4ï¸âƒ£ ĞšĞ»Ğ°Ğ½Ñ‹

ğŸ†˜ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°: ''' + adm,
    
    
    "help_osn": '''{}, Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

ğŸ’° Ğ‘ĞĞĞš Ğ˜ Ğ¤Ğ˜ĞĞĞĞ¡Ğ«
   ğŸ’° Ğ‘Ğ°Ğ½Ğº [Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ/ÑĞ½ÑÑ‚ÑŒ] [ÑÑƒĞ¼Ğ¼Ğ°/Ğ²ÑÑ‘]
   ğŸ’µ Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚ [Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ/ÑĞ½ÑÑ‚ÑŒ] [ÑÑƒĞ¼Ğ¼Ğ°/Ğ²ÑÑ‘]
   ğŸ¤ Ğ”Ğ°Ñ‚ÑŒ [ÑÑƒĞ¼Ğ¼Ğ°]
   ğŸŒ Ğ‘Ğ¸Ñ‚ĞºĞ¾Ğ¸Ğ½ ĞºÑƒÑ€Ñ/ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ/Ğ¿Ñ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ [ĞºĞ¾Ğ»-Ğ²Ğ¾]
   âš± Ğ‘Ğ¸Ñ‚ĞºĞ¾Ğ¸Ğ½Ñ‹

ğŸ‘¤ ĞŸĞ ĞĞ¤Ğ˜Ğ›Ğ¬
   ğŸ“’ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
   ğŸ’« ĞœĞ¾Ğ¹ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚
   ğŸ‘‘ Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³
   ğŸ’¸ Ğ‘/Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ
   ğŸ“¦ Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ

âš¡ Ğ­ĞĞ•Ğ Ğ“Ğ˜Ğ¯ Ğ˜ Ğ¨ĞĞ¥Ğ¢Ğ
   âš¡ Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ
   â› Ğ¨Ğ°Ñ…Ñ‚Ğ°
   ğŸ“Š ĞšÑƒÑ€Ñ Ñ€ÑƒĞ´Ñ‹

ğŸš— ĞĞ’Ğ¢ĞĞœĞĞ‘Ğ˜Ğ›Ğ˜
   ğŸš— ĞĞ²Ñ‚Ğ¾ÑĞ°Ğ»Ğ¾Ğ½
   ğŸš– Ğ¢Ğ°ĞºÑĞ¾Ğ²Ğ°Ñ‚ÑŒ

ğŸ  ĞĞ•Ğ”Ğ’Ğ˜Ğ–Ğ˜ĞœĞĞ¡Ğ¢Ğ¬
   ğŸš Ğ’ĞµÑ€Ñ‚Ğ¾Ğ»Ñ‘Ñ‚Ñ‹
   ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½Ñ‹
   âœˆ Ğ¡Ğ°Ğ¼Ğ¾Ğ»Ñ‘Ñ‚Ñ‹
   ğŸ›¥ Ğ¯Ñ…Ñ‚Ñ‹
   ğŸ  Ğ”Ğ¾Ğ¼Ğ°

ğŸ® Ğ ĞĞ—Ğ’Ğ›Ğ•Ğ§Ğ•ĞĞ˜Ğ¯
   ğŸ° Ğ ÑƒĞ»ĞµÑ‚ĞºĞ°
   ğŸ‘‘ ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³

ğŸ›  Ğ”Ğ Ğ£Ğ“ĞĞ•
   ğŸ’¢ Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½Ğ¸Ğº [Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ½Ğ¸Ğº]
   ğŸ‘¨ ĞœĞ¾Ğ¹ Ğ½Ğ¸Ğº
   âš– Ğ ĞŸ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
   ğŸ† ĞœĞ¾Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ
   ğŸ”± Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑÑ‹
   ğŸ’­ !Ğ‘ĞµÑĞµĞ´Ğ°''',
    
    
    "help_game": '''{}, Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

ğŸ® Ğ˜Ğ“Ğ Ğ«
   ğŸ® Ğ¡Ğ¿Ğ¸Ğ½ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ² ĞšÑƒĞ±Ğ¸Ğº [Ñ‡Ğ¸ÑĞ»Ğ¾] [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ€ Ğ‘Ğ°ÑĞºĞµÑ‚Ğ±Ğ¾Ğ» [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ¯ Ğ”Ğ°Ñ€Ñ‚Ñ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   âš½ï¸ Ğ¤ÑƒÑ‚Ğ±Ğ¾Ğ» [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ³ï¸ Ğ‘Ğ¾ÑƒĞ»Ğ¸Ğ½Ğ³ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ¸ ĞšĞ²Ğ°Ğº [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ“‰ Ğ¢Ñ€ĞµĞ¹Ğ´ [Ğ²Ğ²ĞµÑ€Ñ…/Ğ²Ğ½Ğ¸Ğ·] [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ° ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ [ÑÑ‚Ğ°Ğ²ĞºĞ°]''',
    
    
    "help_game": '''{}, Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
   ğŸš€ Ğ˜Ğ³Ñ€Ñ‹:
   ğŸ® Ğ¡Ğ¿Ğ¸Ğ½ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ² ĞšÑƒĞ±Ğ¸Ğº [Ñ‡Ğ¸ÑĞ»Ğ¾] [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ€ Ğ‘Ğ°ÑĞºĞµÑ‚Ğ±Ğ¾Ğ» [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ¯ Ğ”Ğ°Ñ€Ñ‚Ñ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   âš½ï¸ Ğ¤ÑƒÑ‚Ğ±Ğ¾Ğ» [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ³ï¸ Ğ‘Ğ¾ÑƒĞ»Ğ¸Ğ½Ğ³ [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ¸ ĞšĞ²Ğ°Ğº [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ“‰ Ğ¢Ñ€ĞµĞ¹Ğ´ [Ğ²Ğ²ĞµÑ€Ñ…/Ğ²Ğ½Ğ¸Ğ·] [ÑÑ‚Ğ°Ğ²ĞºĞ°]
   ğŸ° ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ [ÑÑ‚Ğ°Ğ²ĞºĞ°]''',
    
    
    'help_rz': '''{}, Ñ€Ğ°Ğ·Ğ²Ğ»ĞµĞºĞ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
ğŸ”® ĞœĞĞ“Ğ˜Ğ¯
   ğŸ”® Ğ¨Ğ°Ñ€ [Ñ„Ñ€Ğ°Ğ·Ğ°]
   ğŸ’¬ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ [Ñ„Ñ€Ğ°Ğ·Ğ°] Ğ¸Ğ»Ğ¸ [Ñ„Ñ€Ğ°Ğ·Ğ°2]
   ğŸ“Š Ğ˜Ğ½Ñ„Ğ° [Ñ„Ñ€Ğ°Ğ·Ğ°]

ğŸ’’ Ğ‘Ğ ĞĞšĞ˜
   ğŸ’– Ğ¡Ğ²Ğ°Ğ´ÑŒĞ±Ğ° [ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ]
   ğŸ’– Ğ Ğ°Ğ·Ğ²Ğ¾Ğ´
   ğŸ’Œ ĞœĞ¾Ğ¹ Ğ±Ñ€Ğ°Ğº

ğŸ“¦ ĞšĞ•Ğ™Ğ¡Ğ«
   ğŸ›’ ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ ĞºĞµĞ¹Ñ [Ğ½Ğ¾Ğ¼ĞµÑ€] [ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾]
   ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ĞºĞµĞ¹Ñ [Ğ½Ğ¾Ğ¼ĞµÑ€] [ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾]

ğŸ­ Ğ‘Ğ˜Ğ—ĞĞ•Ğ¡
   ğŸ’° ĞœĞ¾Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ/Ğ±Ğ¸Ğ·Ğ½ĞµÑ
   ğŸ’¸ ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ

ğŸ§° ĞœĞĞ™ĞĞ˜ĞĞ“ Ğ¤Ğ•Ğ ĞœĞ
   ğŸ”‹ ĞœĞ¾Ñ Ñ„ĞµÑ€Ğ¼Ğ°/Ñ„ĞµÑ€Ğ¼Ğ°
   ğŸ’° ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ñ„ĞµÑ€Ğ¼Ñƒ

ğŸŒ³ Ğ¡ĞĞ”Ğ«
   ğŸª§ ĞœĞ¾Ğ¹ ÑĞ°Ğ´/ÑĞ°Ğ´
   ğŸ’° ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ ÑĞ°Ğ´
   ğŸ’¦ Ğ¡Ğ°Ğ´ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚ÑŒ
   ğŸ¸ Ğ—ĞµĞ»ÑŒÑ
   ğŸ”® Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·ĞµĞ»ÑŒĞµ [Ğ½Ğ¾Ğ¼ĞµÑ€]''',
    
    
    'help_clans': '''{}, ĞºĞ»Ğ°Ğ½Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

ğŸ° ĞĞ¡ĞĞĞ’ĞĞĞ•
   ğŸ’¡ ĞœĞ¾Ğ¹ ĞºĞ»Ğ°Ğ½
   ğŸ† ĞšĞ»Ğ°Ğ½ Ñ‚Ğ¾Ğ¿
   âœ… ĞšĞ»Ğ°Ğ½ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑĞ¸Ñ‚ÑŒ [ID]
   ğŸ™‹â€â™‚ ĞšĞ»Ğ°Ğ½ Ğ²ÑÑ‚ÑƒĞ¿Ğ¸Ñ‚ÑŒ [ID ĞºĞ»Ğ°Ğ½Ğ°]
   ğŸ“› ĞšĞ»Ğ°Ğ½ Ğ¸ÑĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ [ID]
   ğŸš· ĞšĞ»Ğ°Ğ½ Ğ²Ñ‹Ğ¹Ñ‚Ğ¸
   ğŸ’° ĞšĞ»Ğ°Ğ½ ĞºĞ°Ğ·Ğ½Ğ°
   ğŸ’µ ĞšĞ»Ğ°Ğ½ ĞºĞ°Ğ·Ğ½Ğ° [ÑÑƒĞ¼Ğ¼Ğ°]

âš™ Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ•
   âš™ ĞšĞ»Ğ°Ğ½ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ [Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ]
   â¤´ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
   ğŸ“¥ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ğ¸Ğµ [1-4]
   ğŸ’¢ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ĞºĞ¸Ğº [1-4]
   ğŸ”° ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ€Ğ°Ğ½Ğ³Ğ¸ [1-4]
   ğŸ’µ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ĞºĞ°Ğ·Ğ½Ğ° [1-4]
   ğŸ’° ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¾Ğ³Ñ€Ğ°Ğ±Ğ»ĞµĞ½Ğ¸Ğµ [1-4]
   âš” ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ²Ğ¾Ğ¹Ğ½Ğ° [1-4]
   âœ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ [1-4]
   ğŸ” ĞšĞ»Ğ°Ğ½ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ‚Ğ¸Ğ¿ [Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹/Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹]

ğŸ” Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•
   âœ ĞšĞ»Ğ°Ğ½ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ [Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ]
   â¤´ ĞšĞ»Ğ°Ğ½ Ğ¿Ğ¾Ğ²Ñ‹ÑĞ¸Ñ‚ÑŒ [ID]
   â¤µ ĞšĞ»Ğ°Ğ½ Ğ¿Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ [ID]
   ğŸ“› ĞšĞ»Ğ°Ğ½ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ''',
    
    'help_adm': '''{}, Ğ°Ğ´Ğ¼Ğ¸Ğ½ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
   ğŸ”„ /restartb
   â¬†ï¸ /updateb
   âš ï¸ /loadmodb [raw ÑÑÑ‹Ğ»ĞºĞ°]
   ğŸš€ /sql [Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ]
   ğŸ“› /banb [id] [Ğ²Ñ€ĞµĞ¼Ñ] [Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°]
   âœ… /unbanb [id]
   ğŸ© Ğ’Ñ‹Ğ´Ğ°Ñ‚ÑŒ [ÑÑƒĞ¼Ğ¼Ğ°]
   ğŸ™ Ğ—Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ [ÑÑƒĞ¼Ğ¼Ğ°]
   ğŸ˜¶ ĞĞ±Ğ½ÑƒĞ»Ğ¸Ñ‚ÑŒ [ÑÑƒĞ¼Ğ¼Ğ°]''',

}


@antispam
async def help_cmd(message: types.Message, user: BFGuser):
    msg = await message.answer(CONFIG['help_cmd'].format(user.url), reply_markup=kb.help_menu(user.user_id))
    await new_earning_msg(msg.chat.id, msg.message_id)


@admin_only(private=False)
async def help_adm(message: types.Message):
    await message.answer(CONFIG['help_adm'].format('Admin'))
    

@antispam
async def help_game_msg(message: types.Message, user: BFGuser):
    await message.answer(CONFIG['help_game'].format(user.url))


@antispam_earning
async def help_back(call: types.CallbackQuery, user: BFGuser):
    await call.message.edit_text(text=CONFIG['help_cmd'].format(user.url), reply_markup=kb.help_menu(user.user_id))


@antispam_earning
async def help_callback(call: types.CallbackQuery, user: BFGuser):
    data = call.data.split('_')[1].split('|')[0]
    
    txt = {
        'osn': CONFIG['help_osn'],
        'game': CONFIG['help_game'],
        'rz': CONFIG['help_rz'],
        'clans': CONFIG['help_clans'],
    }.get(data)
    
    await call.message.edit_text(text=txt.format(user.url), reply_markup=kb.help_back(user.user_id))


def reg(dp: Dispatcher):
    dp.message.register(help_adm, Command("help_adm"))
    dp.message.register(help_cmd, TextIn("/help", "Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ"))
    dp.message.register(help_game_msg, TextIn("Ğ¸Ğ³Ñ€Ñ‹"))
    dp.callback_query.register(help_back, StartsWith("help_back"))
    dp.callback_query.register(help_callback, StartsWith("help_"))
